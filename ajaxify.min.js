!function(e){if("object"==typeof module&&"object"==typeof exports)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);window.ajaxify=e()}}(function(){"use strict";function e(e){return"function"==typeof e}function t(e){var t={url:"string",success:"function",failure:"function"};for(var n in t)if(typeof e[n]!==t[n])return console.error("Config object must contain '"+n+"' property."),!1;return!0}function n(e){return function(n){if(t(n)){n.request=new XMLHttpRequest,r(n.request,n.success,n.failure);var u=o(e,n);return n.doSend?f(u):n.send=function(){f(u)},n}}}function r(e,t,n){e.onreadystatechange=function(){u(e)?s(e,t):i(e,n)}}function o(e,t){return{request:t.request,headers:t.headers,method:e,data:t.data,url:t.url}}function u(e){return e.readyState===XMLHttpRequest.DONE&&200===e.status||201===e.status}function s(t,n){e(n)&&n(t.responseText)}function i(t,n){if(e(n))n(t.responseText,t.status);else{var r="AJAX error: unhandled error with status ";r+=t.status,r+=" and body: "+t.responseText,console.error(r)}}function f(e){e.request.open(e.method,e.url),a(e.request,e.headers),e.data?(e.request.setRequestHeader(p[0],p[1]),e.request.send(c(e.data))):e.request.send()}function a(e,t){if(t)for(var n in t)e.setRequestHeader(n,t[n])}function c(e){if("string"==typeof e)return e;var t=Object.keys(e);return t.map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}var d=["GET","POST","PUT","DELETE"],p=["Content-Type","application/x-www-form-urlencoded"],l={};return d.forEach(function(e){l[e.toLowerCase()]=n(e)}),l});